<html>
    <head>
        <title>Gioco del Dado</title>
        <style>
        button {
            width:120px;
            height: 80px;
        }
        </style>
    </head>
    <body>
        <button type="submit" onclick="tiroDadoA_Play();">Tiro giocatore 1</button>
        <button type="submit" onclick="tiroDadoB_Play();">Tiro giocatore 2</button>
    </body>

    <script type="text/javascript">

    var vittoriaConsecutivaA = 0,
        vittoriaConsecutivaB = 0,
        tiroA = 0,
        tiroDadoA = 0,
        tiroDadoB = 0,
        tiroB = 0;
    
    function getValue () {
        return Math.round((Math.random() * 5) + 1);
    }
     function tiroDadoA_Play() {
         if (tiroA <= tiroB) {
        console.log('Lancio');
        tiroDadoA=getValue();
        vittoriaConsecutivaA++;
        checkWinner();
        }   
    }
    function tiroDadoB_Play() {
        if (tiroB <= tiroB) {
        console.log('Lancio');
        tiroDadoB=getValue();
        vittoriaConsecutivaB++;
        checkWinner();
        }
    }
               
    function checkWinner() {
        if (tiroA == tiroB){
        if (tiroDadoA > tiroDadoB) {
            vittoriaConsecutivaA++;
            vittoriaConsecutivaB = 0;
            checkStreak(true);
        } else if (tiroDadoB > tiroDadoA) {
            vittoriaConsecutivaB++;
            vittoriaConsecutivaB = 0;
            checkStreak(false);
        } else {
            console.log('Pareggio');
            vittoriaConsecutivaA = 0;
            vittoriaConsecutivaB = 0;
        }
    }
}
       function checkStreak(playerWinner) {
           if (playerWinner && vittoriaConsecutivaA != 2) {
                console.log('Ha vinto il player A.');
           } else if (!playerWinner && vittoriaConsecutivaB !=2) {
                console.log('Ha vinto il player B.');
           } else if (vittoriaConsecutivaA ==2) {
                vittoriaConsecutivaB++;
                vittoriaConsecutivaA = 0;
               console.log('Ha vinto il player B.');
           }else if (vittoriaConsecutivaB == 2) {
               vittoriaConsecutivaA++;
               vittoriaConsecutivaB = 0;
               console.log('Ha vinto il player A.');
           }
        } 
      </script>
</html>